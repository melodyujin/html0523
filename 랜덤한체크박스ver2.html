<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>과제</title>
    <style>
        #wrapper{
            width:300px;
            height:300px;
            background: gray;
        }
    </style>
    <script>
        let wrapper;
        let ch;
        let n=0; //배열의 원하는 요소를 접근하기 위한 수 

        let color=["red","orange","yellow","green","blue","navy","purple"];
        let flag=false;

        function setBg(){       
            if(flag){     
                wrapper.style.background=color[n];
                //n=랜덤;
                n=parseInt(Math.random()*color.length);
            }
        }
        
        function setFlag(){
            //현재 체크박스의 상태를 이용하여  flag 전역변수를 제어하자
            console.log("체크박스의 현재 상태는 ", ch.checked);    
            flag=ch.checked;
        }

        function init(){
            wrapper = document.getElementById("wrapper");
            ch = document.getElementById("ch");

        }

        addEventListener("load", function(){
            init();
            setInterval("setBg()", 1000); //for문은 너무 빨라서 setInterval로 
        });
    </script>
</head>
<body>
    <input type="checkbox" id="ch" onClick="setFlag()">
    <div id="wrapper"></div>
</body>
</html>

